---
import Layout from '../../layouts/Layout.astro';
import { Header } from '../../components/layout/Header';
import { Footer } from '../../components/layout/Footer';
import { Hero } from '../../components/sections/Hero';
import { Services } from '../../components/sections/Services';
import { About } from '../../components/sections/About';
import { Contact } from '../../components/sections/Contact';

export function getStaticPaths() {
  return [
    { params: { lang: 'en' } },
    { params: { lang: 'es' } },
  ];
}

const { lang } = Astro.params;

if (!lang || (lang !== 'en' && lang !== 'es')) {
   return Astro.redirect('/en');
}

const titles = {
    en: "MRG develops - The Cloud Brewery",
    es: "MRG develops - The Cloud Brewery (ES)"
};
---

<Layout title={titles[lang]} lang={lang}>
	<Header client:load lang={lang} />
	
	<main>
		<Hero client:load lang={lang} />
		<About client:visible lang={lang} />
		<Services client:visible lang={lang} />
		<Contact client:visible lang={lang} />
	</main>

	<Footer lang={lang} />
</Layout>
